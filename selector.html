<script>
  const base = window.location.origin.includes("localhost")
    ? "http://localhost:5000"
    : "https://or13.github.io/didcomm-web-transports";

  navigator.registerProtocolHandler(
    "web+didcomm",
    base + "/selector?q=%s",
    "DIDComm Wallet Selector"
  );

  const handleWalletChoice = (url) => {
    return () => {
      window.open(
        base +
          url +
          decodeURIComponent(window.location.search).replace(
            "q=web+didcomm:",
            ""
          )
      );
    };
  };
</script>

<h3>select a wallet</h3>

<div>
  <ul>
    <li>
      <button onclick="handleWalletChoice('/wallet-0')()">wallet 0</button>
    </li>
    <li>
      <button onclick="handleWalletChoice('/wallet-1')()">wallet 1</button>
    </li>
  </ul>
</div>
